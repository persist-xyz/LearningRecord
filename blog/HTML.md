
#### 1、 HTML5新特性，语义化
- 根据内容的结构化（内容语义化），选择合适的标签（代码语义化），去掉或样式丢失的时候能让页面呈现清晰的结构；
- 便于团队开发和维护；
- 让浏览器的爬虫和机器很好地解析；
- 使用语义标记可以确保这些设备以一种有意义的方式来渲染网页；例如，一部手机可以选择使一段标记了标题的文字以粗体显示，而iPad可能会以比较大的字体来显示，无论哪种方式，一旦你对一段文本标记为了标题，你就可以确信读取设备将根据其自身的条件来合适地显示页面。
- section article aside  header footer video audio

#### 2、浏览器的标准模式和怪异模式
- 在标准模式下，浏览器按照HTML与CSS标准对文档进行解析和渲染；在怪异模式下，浏览器则按照旧有的非标准的实现方式对文档进行解析和渲染；
- 对于旧有的网页，浏览器启动怪异模式，就能够使得旧网页正常显示；对于新的网页，则可以启动标准模式，使得新网页能够使用HTML与CSS的标准特性；
- 对于没有文档类型声明（DOCTYPE）或者文档类型声明不正确的文档，浏览器就会使用怪异模式解析和渲染该文档。
- 在标准模式下，设置行内元素的高宽是无效的；而在怪异模式下是有效的；
- 使用margin:0 auto在standards模式下可以使元素水平居中，但在quirks模式下却会失效。

#### 3、标准盒模型与怪异盒模型
- 标准CSS盒模型的宽度和高度等于内容区的高度和宽度，不包含内边距和边框；
- IE6之前的浏览器实现的盒模型的宽高计算方式是包含内边距和边框的；

#### 4、行内元素的垂直对齐
- 标准模式下，图片与父元素的下边框距离3px
- 而怪异模式下，则不存在这个问题

#### 5、xhtml和html的区别
1.  XHTML 元素必须被正确地嵌套。
2.  XHTML 元素必须被关闭。
3.  标签名必须用小写字母。
4.  XHTML 文档必须拥有根元素。

#### 6、使用data-的好处 (用于存储页面或应用程序的私有自定义数据)
1. 自定义属性，可以被js很好的操作
2. H5的新属性
3. 通过js的element.dataset.*或jQuery的data('*')拿到，*可以为url等字符
4. 框架的数据绑定，例如data-ng-if="cs==1"

#### 7、meta标签
- 它不会显示在页面上，但是对于机器是可读的。
- 可用于浏览器（如何显示内容或重新加载页面），搜索引擎（关键词），或其他 web 服务。
- viewport  charset
- <meta http-equiv="Refresh" content="5;url=http://blog.yangchen123h.cn" />
- <meta name="renderer" content="webkit"/>

#### 8、canvas
 getContext()

<canvas> 有一个基于 JavaScript 的绘图 API，而 SVG 和 VML 使用一个 XML 文档来描述绘图。

#### 9、HTML废弃的标签
``` <b>, <u>, <i>, <s>，<font>```

```<strong>=<b> :定义重要性强调的文字```

```<em>=<i> ：定义强调的文字```

```<ins>=<u>：定义插入的文字```

```<del>=<s>：定义删除的文字 ```


#### 10、IE6 bug，和一些定位写法
1. 双倍边距bug：使用float浮动时,在该元素中加入display:inline 或 display:block；
2. 3像素问题: 使用float浮动后，元素与相邻的元素之间会产生3px的间隙；需要使布局在同一行的元素都加上float浮动；
3. 图片链接的下方有间隙：将img标签定义为display:block 或定义vertical-align对应的属性。也可以为img对应的样式写入font-size:0；

#### 11、从输入URL到页面加载的全过程

主干流程：浏览器构建HTTP Request请求、网络传输、服务器构建HTTP Response请求、网络传输、浏览器渲染页面。

<img src="https://pic.xiaohuochai.site/blog/httpUrl1.png" width=1500></img>

**一、构建请求**

1. 应用层进行DNS解析

   - 这里使用DNS预解析，可以根据浏览器定义的规则，提前解析之后可能会用到的域名，使解析结果缓存到`系统缓存`中，缩短DNS解析时间，来提高网站的访问速度

2. 应用层生成http请求报文

   - HTTP请求报文包括起始行、首部和主体部分
   - 起始行可能：`GET https://baidu.com/ HTTP/1.1`
   - 首部包括：`HOST keep-alive Accpet-Encoding Accept-Language User-Agent Cookie`等
   - 首部和主体内容之间有一个回车换行(CRLF)，主体内容即要传输的内容。如果是get请求，则主体内容为空

3. 传输层建立TCP连接 （建立三次握手）

   传输协议主要有UDP（无连接的协议、不可靠）和TCP（有连接、可靠）两种

   TCP可靠主要表现在：

   - 接收方会对接收到的数据进行确认
   - 发送方会重传接收方未确认的数据
   - 接收方会对接收到的数据按照正确的顺序进行重新排列，并删除重复的数据
   - 提供了控制拥挤的机制

   

   <img src="https://pic.xiaohuochai.site/blog/HTTP_network18.jpg" width=1000></img>

   - 三次握手：

     - 第一次握手：主机A发往主机B，主机A初始序号是X，设置SYN（同步）位，未设置ACK（确认）位
     - 第二次握手：主机B发往主机A，主机B初始序号是Y，ACK（确认号）是X+1，X+1暗示已经收到主机A发来主机B的同步序号。设置ACK位和SYN位
     - 第三次握手：主机A发往主机B，主机A初始序号是X+1，ACK是Y+1，Y+1暗示已经收到主机A发来主机B的同步序号。设置ACK位，未设置SYN位。

     三次握手解决的不仅仅有序号问题，还解决了包括窗口大小、MTU(Maximum Transmission Unit,最大传输单元)，以及所期望的网络延时等其他问题。

   - 构建TCP请求会增加大量的网络时延，常用的优化方式如下所示
     - 资源打包，合并请求
     - 多使用缓存，减少网络传输
     - 使用keep-alive建立持久连接
     - 使用多个域名，增加浏览器的资源并发加载数，或者使用HTTP2的管道化连接的多路复用技术

4. 网络层使用IP协议来选择路线

5. 数据链路层实现网络相邻节点间的可靠的数据通信

6. 物理层传输数据

**二、网络传输**

- 从客户机到服务器需要通过许多网络设备， 一般地，包括集线器、交换器、路由器等

**三、服务器处理及反向传输**

**四、浏览器渲染**

- 首先浏览器从服务器接收到html代码，然后开始解析html
- 根据html代码自顶向下构建DOM树，并且同时构建渲染树
- 遇到js文件加载执行，将阻塞DOM树的构建
- 遇到css文件，将阻塞渲染树的构建
- script标签中的defer属性：构建DOM树的过程和js文件的加载异步（并行）进行，但是js文件执行需要在DOM树构建完成之后
- script标签中的async属性：构建DOM树、渲染树的过程和js文件的加载和执行异步（并行）进行
- 所以script标签最好放在</body>标签的前面，因为放在所有body中的标签后面就不会出现网页加载时出现空白的情况，可以持续的给用户提供视觉反馈，同时在有些情况下，会降低错误的发生。
- 而css标签应该放在<head></head>标签之间，因为如果放在</body>标签的前面，那么当DOM树构建完成了，渲染树才构建，那么当渲染树构建完成，浏览器不得不再重新渲染整个页面，这样造成了资源的浪费。效率也不高。如果放在<head></head>之间，浏览器边构建边渲染，效率要高的多。总的来说，就是提高性能，提高网页的可读性。

**五、重绘和回流**

- 页面生成以后，脚本操作、样式表变更，以及用户操作都可能触发重绘和回流

  - 回流是指窗口尺寸被修改、发生滚动操作，或者元素位置相关属性被更新时会触发布局过程，也就是重新进行流式布局的过程。发生在Render树上，常说的脱离文档流，就是指脱离渲染树Render Tree

  - 重绘是指当与视觉相关的样式属性值被更新时会触发绘制过程，在绘制过程中要重新计算元素的视觉信息，使元素呈现新的外观。是发生在渲染层 render layer上

- 减少回流次数的方法
  - 不要一条一条地修改DOM样式，而是修改className或者修改style.cssText
  - 在内存中多次操作节点，完成后再添加到文档中去
  - 对于一个元素进行复杂的操作时，可以先隐藏它，操作完成后再显示
  - 在需要经常获取那些引起浏览器回流的属性值时，要缓存到变量中
  - 不要使用table布局，因为一个小改动可能会造成整个table重新布局。而且table渲染通常要3倍于同等元素时间

- 减少重绘范围的方法
  - 将需要多次重绘的元素独立为render layer渲染层，如设置absolute，可以减少重绘范围
  - 对于一些进行动画的元素，可以进行硬件渲染，从而避免重绘和回流

#### 12、什么是渐进式渲染
在首次渲染的时候，只加载首屏的内容，随着用户滑动或者说时间的推移，才进行后面的加载。

这样做的好处是：提高网页的性能，不会造成资源的浪费，按需加载。

#### 13、html模板语言
模板包含：HTML的静态部分，动态插入内容部分

#### 14、meta viewport原理
主要是影响移动端页面布局的

```
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

width viewport 宽度(数值/device-width)
height viewport 高度(数值/device-height)
initial-scale 初始缩放比例
maximum-scale 最大缩放比例
minimum-scale 最小缩放比例
user-scalable 是否允许用户缩放(yes/no)
```


#### 15、重构、回流

- 浏览器的重构（重绘）指的是改变每个元素外观时所触发的浏览器行为，比如颜色，背景等样式发生了改变而进行的重新构造新外观的过程，重构不会引发页面的重新布局，不一定伴随着回流。
- 回流（重排）指的是浏览器为了重新渲染页面的需要而进行的重新计算元素的几何大小和位置。他的开销是非常大的，回流可以理解为渲染树需要重新进行计算。
- 一般最好触发元素的重构，避免元素的回流；
- 比如通过添加类来添加css样式，而不是直接在DOM上设置，当需要操作某一块元素时候，最好使其脱离文档流，这样就不会引起回流了。比如设置position：absolute或者fixed，或者display：none，等操作结束后在显示。

#### 16、前端优化（提高网页的加载速度）

- 1、使用css sprites，可以有效的减少http请求数
- 2、使用缓存    
- 3、压缩js，css文件，减小文件体积    
- 4、使用cdn，减小服务器负担    
- 5、懒加载图片    
- 6、预加载css，js文件    
- 7、避免dom结构的深层次嵌套    
- 8、减少 DOM 元素数量，减少 DOM 操作
- 9、减少重构，回流
- 10、使用外部 JavaScript 和 CSS
- 11、使用 iconfont

#### 17、Vue router 跳转和 location.href 有什么区别？
- router 是 hash 改变
- location.href 是页面跳转，刷新页面

#### 18、说说svg和canvas各自的优缺点？

共同点：都是有效的图形工具，对于数据较小的情况下，都很又高的性能，它们都使用 JavaScript 和 HTML；它们都遵守万维网联合会 (W3C) 标准。

- svg

  * 优点：
    * 矢量图，不依赖于像素，无限放大后不会失真。
    * 以dom的形式表示，事件绑定由浏览器直接分发到节点上。

  - 缺点：
    * dom形式，涉及到动画时候需要更新dom，性能较低。

- canvas

  * 优点：
    * 定制型更强，可以绘制绘制自己想要的东西。
    * 非dom结构形式，用JavaScript进行绘制，涉及到动画性能较高

  - 缺点：
    * 事件分发由canvas处理，绘制的内容的事件需要自己做处理。
    * 依赖于像素，无法高效保真，画布较大时候性能较低。

```javascript
var canvas=document.getElementById('myCanvas');
var ctx=canvas.getContext('2d');
ctx.fillStyle='#FF0000';  //设置属性
ctx.fillRect(0,0,80,100);//根据坐标画出正方形
```

#### 19、渐进增强与优雅降级

- 渐进增强：一开始针对低版本浏览器进行构建基本功能，然后再针对高版本浏览器进行交互、效果和追加功能达到良好的交互体验
- 优雅降级：一开始保证了功能的全面性，然后再针对低版本浏览器进行兼容

#### 20、为什么利用多个域名来存储网站资源会更有效？

- CDN缓存更方便
- 突破浏览器并发限制
- 节约cookie带宽
- 节约主域名的连接数，优化页面响应速度
- 防止不必要的安全问题

#### 21、简述一下src与href的区别

src用于替换当前元素，href用于在当前文档和引用资源之间建立联系。

- src是source的缩写，指向外部资源的位置。
  - 指向的内容将会被嵌入到文档中当前标签所在位置；
  - 在请求src资源时，会将其指向的资源下载并应用到文档内。例如js脚本，img图片和frame等元素。
  - 当浏览器解析到该元素时，会暂停其他资源的下载和处理，直到将该资源下载、编译、执行完毕。
  - 这也是为什么将js脚本放在底部而不是头部。

- href是Hypertext Reference的缩写，指向网络资源所在位置。
  - 建立与当前元素（锚点）或当前文档（链接）直接的链接
  - 若添加 <link href="common.css" rel="stylesheet"/> ，则浏览器会识别该文档为css文件，就会并行下载并且不会停止对当前文档的处理。这也是为什么建议使用link方式来加载css，而不是使用@import方式。





